<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My little OS development journey</title>
    <link rel="stylesheet" href="stylesheet.css">
</head>
<body>
    <a href="https://unmappedstack.dev/blog">&#x2190; See all my articles</a>
    <h1>My little OS kernel development journey</h1>

    <p>I've always found quite an interest in low level systems. For the largest part of that time though, I knew very close to nothing. I would try researching information but never found much.</p>

    <p>Until around a year ago (mid-2024) when I found the <a href="https://osdev.wiki" target="_blank">OSDev wiki</a> (or at least the <a href="https://wiki.osdev.org" target="_blank">original version</a>, the one I linked is a newer fork). I followed the barebones C tutorial (at the time having only known the bare basics of C, practically nothing) and got a "Hello World" running.</p>

    <img alt="A screenshot of my original Hello World OS" src="https://unmappedstack.dev/assets/helloworld.webp" />

    <p>It wasn't a lot, and most of it was copied, but I was proud. This later went on to form <a href="https://github.com/UnmappedStack/SpecOS" target="_blank">SpecOS</a>, my original kernel, which was originally 32 bit but became 64 bit. It had a raw FAT32 filesystem without a VFS, memory management, some basic drivers, and a kernelspace shell. Yet I hated it. The one thing it was missing? Running userspace programs. And that is what I wanted.</p>

    <p>Around this time, I also started to build up a small but powerful community on Discord (shameless plug: <a href="https://discord.gg/hPg9S2F2nD" target="_blank">join here</a> lol), and they helped me a <i>lot</i>.</p>

    <p>A few months later, I begun on <a href="https://github.com/UnmappedStack/PotatOS" target="_blank">PotatOS</a>. It was a *lot* better. It reached userspace, and could run ELF64 executables! It also had a VFS (lettered, aka `C:/`, `D:/` etc), and was non-UNIX-like. I was quite happy with it - it even had a from-scratch LibC.</p>

    <img alt="A screenshot of PotatOS getting a syscall" src="https://unmappedstack.dev/assets/potatos-syscall.png" />

    <p>I was happy with it, but I wanted to do yet another OS for a few major reasons:</p>
    <ul>
        <li>I didn't love the codebase, it was messy</li>
        <li>There were still some random bugs</li>
        <li>I wanted a UNIX-like OS so that porting software could be easier</li>
    </ul>

    <p>And so, I begun <a href="https://github.com/UnmappedStack/TacOS" target="_blank">TacOS</a>! This is my latest into OS development and I'm very happy with it so far. It's not perfect, but it can do what's important. It runs DOOM! I've ported Doom to it, a Vim-like text editor called Dim, and have my own libc (which I plan to replace with newlib) and a simple set of userspace utilities including a shell (in userspace this time :P).</p>

    <img alt="TacOS running DOOM" src="https://github.com/UnmappedStack/TacOS/raw/main/screenshots/screenshot2.webp" />

    <p>I've learned about file systems (particularly VFSes), memory management (virtual and physical), scheduling (mostly round robin so far), and have seen some other people's amazing projects. I can't wait to get TacOS further and start running more powerful ports!</p>

    <p>Hopefully this blog post was at least a little interesting, it was my first one so it might not be perfect, I'm not much of a writer but do want to write up my progress somewhere.</p>

    <h3>If my article was interesting...</h3>
    <p>can I send you some emails? ðŸ˜” I promise I won't spam ðŸŒ³</p>

    <form onsubmit="sub(event)">
        <input type="email" id="email" placeholder="email plz" required />
        <button type="submit">yesss i want <s>rubbish</s> emails!</button>
        <label>
            <input type="checkbox" />
            I agree that UnmappedStack is the ultimate dictator (optional but recommended)
        </label>
    </form>

    <p><b><i>I will never spam you, and you can unsubscribe at any time through the emails. I don't want to sell you anything.</i></b></p>

    <script>
        function sub(event) {
            event.preventDefault();
            const email = document.getElementById("email").value;
            // security be fucked, I'll put my token in the frontend source if I wanna.
            // BALLLS TO THE WALLLLLLLL
            const token = "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiI0IiwianRpIjoiMTFjZGI1NzA3MDU0OGY2YWZlNzNlZDcyNmU0M2IyZTFiYmNlMzQ5ZjhhZTA3MmZkYmNkYzU1OTdlNjAzOWQyYWVlNTY1MDVhOTcwNDY5NTEiLCJpYXQiOjE3NTA2NTQ5NzguNTQ3MzU1LCJuYmYiOjE3NTA2NTQ5NzguNTQ3MzU4LCJleHAiOjQ5MDYzMjg1NzguNTQyNTc1LCJzdWIiOiIxNjI2Njg4Iiwic2NvcGVzIjpbXX0.JFAhO9GcQrAU-q-dp_Pv_x8U2M54TFjKCk-2zTPcOB3K-urOFR7ZYVa8_rHcQ2OAhYQbhG-WBQ6X6c-Ep5U-NNsGw9NPMB5u7lTffn8_A6S8sCQ-9PhlRA2R46_YrI0a_5_xpXvK0xsPRTWr-Ol24CEwlHdaAJznVpLdGpKM_M6O_2RPS08CvjXAIeqEexIo5juJPTEb92VEsBKXtCz_ZSGowzLOzQPr7TCvmd1vPxLwlTkqODo0USxsmY86GH1jGFQsK3nj_QlOGzZQ0ZTWQMkgWPLNg7z39y12gncjaWTDAguO2hSiyvt6-MPBYJBW6UJx3NvpnjS1QYXdTCPXnGx4VHAnVASGRtBsXpFnY5ev6swjJ7eyr67RASbdUGCe63QB-rmGi8o9iZ4GpVH0ctS-MEHidaDizbVlttfrKs6rcgijzMgoFvT-wXiNmu7nQ0IjYeAjh0j6svjqvXMpfIsVQr_j5Sn_C3mi6DWIltgZO5aPkXIbOeAGAn7-hU6XEjp82VfRnW48OLNd1L1Kk1rx8gs6H3oik7NoP_9BlgyRLzl-QhEKm1u8AGK-IrdEFCnQyY7-yfb80Qaz_hUm4V49fgj3uylG11FhC2qmBf1dBWpCjAOim_KsBkOy9FGe-8UqYtAC5YjrLL2wBl2BgYUrRwWCq65UDruWXDu5m-U";
            fetch('https://connect.mailerlite.com/api/subscribers', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': 'Bearer ' + token,
                },
                body: JSON.stringify({
                    email: email,
                })
            })
            .then(response => response.json())
            .then(data => {
                console.log(data);
                document.body.innerHTML = "<h2>you subscribed! thanks</h2>";
            })
            .catch(error => alert("error subscribing: " + error));
        }
    </script>
</body>
</html>
